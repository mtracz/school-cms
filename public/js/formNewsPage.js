function hideButtons(){$("#reedit_button").hide(),$("#public_button").hide(),$("#cancel_button").show(),$("#preview_button").show()}function showButtons(){$("#reedit_button").show(),$("#public_button").show(),$("#cancel_button").hide(),$("#preview_button").hide()}function isTitle(){return!!document.getElementById("add_news_article_form").title.value}function isContent(){return"true"===$(".ui.segment.content").data("editing_mode")&&(form_content=$(".ui.segment.content").html()),!!$(".ui.segment.content").find("img").length||!($(".ui.segment.content").text()<1)}function getImagesSrc(){var t=[];$("#preview_content").find("img").each(function(){t.push($(this).attr("src"))}),json_images_src=JSON.stringify(t)}function hideContentToolsIcon(){$(".ct-widget.ct-ignition").hide()}function showContentToolsIcon(){$(".ct-widget.ct-ignition").show()}function sendAjaxFormData(t){$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"post",url:$("#add_news_article_form").attr("action"),data:t,processData:!1,contentType:!1,success:function(t){"success"===t.add_status||"success"===t.edit_status?window.location.href=t.route:($("#errors_list").removeClass("hidden"),errors=JSON.parse(t),$.each(errors,function(t,e){$("#errors_list").append("<p><i class='warning icon'></i>"+e+"</p>")}))},error:function(t,e,n){alert("add news ajax error: ",n)}})}function validateTitle(){return isTitle()?($("#title_warning").addClass("hidden"),!0):($("#title_warning").removeClass("hidden"),!1)}function validateContent(){return isContent()?($("#content_warning").addClass("hidden"),!0):($("#content_warning").removeClass("hidden"),!1)}function setContent(){var t=document.getElementById("add_news_article_form").title.value;$("#preview_header").html(t),$("#preview_content").html(form_content),hideContentToolsIcon(),showButtons(),$("#add_news_article_form").hide(),$("#preview_news").show(),$("#edit_step").addClass("completed").removeClass("active"),$("#preview_step").addClass("active").removeClass("disabled")}function toogleFontManagerSection(){$(".font_manager_section").toggle()}var form_content,json_images_src;$(document).ready(function(){form_content="",hideButtons(),form_content=$(".ui.segment.content").html(),$(".ui.centered.aligned.grid").removeAttr("style"),enableFontManager(".ui.segment.content")}),$("#cancel_button").on("click",function(t){window.location.href=$(this).data("route")}),$("#reedit_button").on("click",function(){showContentToolsIcon(),hideButtons(),$("#add_news_article_form").show(),$("#preview_news").hide(),$("#edit_step").addClass("active").removeClass("completed"),$("#preview_step").addClass("disabled").removeClass("active"),toogleFontManagerSection()}),$("#public_button").on("click",function(){getImagesSrc(),$("#errors_list").html("").addClass("hidden")});